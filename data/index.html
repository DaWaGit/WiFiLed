<!--
  ColorPicker see: https://github.com/fujaru/jquery-wheelcolorpicker
  ESP32 WebServer: https://randomnerdtutorials.com/esp32-web-server-spiffs-spi-flash-file-system/

  Hamburger Menue: https://alvarotrigo.com/blog/hamburger-menu-css/
                  https://codepen.io/erikterwan/pen/EVzeRP
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>WiFiLed-`id`</title>
    <meta name="viewport" content="width=device-width, initial-scale=.9">
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <script type="text/javascript" src="jquery-3.4.1.slim.min.js"></script>
    <script type="text/javascript" src="jquery.wheelcolorpicker.min.js"></script>
    <link type="text/css" rel="stylesheet" href="wheelcolorpicker.css" />
    <link type="text/css" rel="stylesheet" href="ToggleSwitch.css" />
    <style>
      body, html{
        height:100%;
        width:100%;
      }
      body {
        background-color:#333333;
        color: #ffffff;
        font-family: Arial;
        margin-top:10px;
        margin-bottom:10px;
        margin-left:3px;
        margin-right:3px;
      }
      .device-name {
        font-family: Arial;
        font-size  : 32px;
        font-weight: bold;
        text-align: left;
        color: #ffffff;
        width: 100%;
        cursor: pointer;
      }
      .value-name {
        font-family: Arial;
        font-size  : 24px;
        text-align: left;
        color: #888888;
        height: 40px;
      }
      .value {
        font-family: monospace, Courier, 'Courier New';
        font-size  : 24px;
        text-align: right;
        color: #888888;
        height: 40px;
      }
      .config1 {
        width: 350px;
        /* width: 98%; */
        background-color: #222222;
        border-radius: 4px;
        border: solid 1px #aaa;
        padding: 5px;
        z-index: 1001;
      }
      .config2 {
        border-top-color: #070707;
        border-left-color: #070707;
        border-right-color: #aaa;
        border-bottom-color: #aaa;
        box-shadow: -1px -1px 1px #000;
      }
      .custom-select {
        font-family: Arial;
        font-size  : 24px;
        text-align: left;
        height: 40px;
      }
      .custom-select select {
        background-color: #888888;
        font-family: Arial;
        font-size  : 24px;
        text-align: left;
        width: 100%;
      }
      input {
        background-color: #888888;
        font-family: Arial;
        font-size  : 24px;
        text-align: left;
        width: 90%;
      }
      .dayNight {
        position:absolute;
        top:0px;
        left:0px;
        width:32px;
        z-index: 2000;
      }
    </style>
    <script type="text/javascript">
      var url = "`wsUrl`";
      var boSendToDevice = true;
      var hue = 0;
      var sat = 0;
      var bri = 0;
      var day = 0;
      var reconnectTimer;

      //#########################################
      // This is called when the page finishes loading
      function init() {
        // enable the change event listener
        document.getElementById('select').addEventListener('change', function handleChange(event) {
          selectElement(event.target.value);
        });
        document.getElementById('colorMode').addEventListener('change', function handleChange(event) {
          doSend("colorMode:" + event.target.value);
        });
        // select the initially elements
        selectElement(document.getElementById('select').value);
        // Connect to WebSocket server
        if (!url.includes('wsUrl')) {
          wsConnect(url);
        }
        $("#sun").detach().appendTo("#colorSelector");  // move icon to parent colorSelector
        $("#moon").detach().appendTo("#colorSelector"); // move icon to parent colorSelector
        updateTime();
      }
      //#########################################
      // select an element: color/wifiSetup/...
      function selectElement(element) {
        document.getElementById('time').style.display        = element === 'time'        ? 'block' : 'none';
        document.getElementById('colorSetup').style.display  = element === 'colorSetup'  ? 'block' : 'none';
        document.getElementById('wifiSetup').style.display   = element === 'wifiSetup'   ? 'block' : 'none';
        document.getElementById('timeSetup').style.display   = element === 'timeSetup'   ? 'block' : 'none';
        document.getElementById('ledSetup').style.display    = element === 'ledSetup'    ? 'block' : 'none';
        document.getElementById('globalSetup').style.display = element === 'globalSetup' ? 'block' : 'none';
      }
      //#########################################
      // Call this to connect to the WebSocket server
      function wsConnect(url) {
        console.log("[WebSocket] Try a connection to " + url);
        // Connect to WebSocket server
        websocket = new WebSocket(url);
        // Assign callbacks
        websocket.onopen    = function (evt) { onOpen(evt) };
        websocket.onclose   = function (evt) { onClose(evt) };
        websocket.onmessage = function (evt) { onMessage(evt) };
        websocket.onerror   = function (evt) { onError(evt) };
      }
      //#########################################
      // Called when a WebSocket connection is established with the server
      function onOpen(evt) {
        // Log connection state
        console.log("[WebSocket] Connected");
        // clear timeout timer
        clearInterval(reconnectTimer);
      }
      //#########################################
      // Called when the WebSocket connection is closed
      function onClose(evt) {
        // Log disconnection state
        console.log("[WebSocket] Disconnected");
        // try to reconnect after a few seconds
        reconnectTimer = setTimeout(function () { wsConnect(url) }, 1000);
      }
      //#########################################
      // Called when a message is received from the server
      function onMessage(evt) {
        // Print out our received message
        console.log("[WebSocket] Rx: " + evt.data);
        //-----------------------------
        // new color
        var result = evt.data.match(/^sw:(\d+)h:(\d+)s:(\d+)b:(\d+)bDay:(\d+)bNight:(\d+)Day:(\d+)$/i);
        if (result) {
          boSendToDevice = false;
          if (Number(result[1])) {
            $("#StripeSwitch").prop('checked', true); // turn html switch on
          } else {
            $("#StripeSwitch").prop('checked', false); // turn html switch off
          }
          hue = Number(result[2]) / 0xffff;
          sat = Number(result[3]) / 0xff;
          bri = Number(result[4]) / 0xff;
          $('#color-block').wheelColorPicker(
            'setColor',
            {
              h: hue,
              s: sat,
              v: bri
            }
          );
          $("#bDay").prop('value', Number(result[5]));   // set day brightness
          $("#bNight").prop('value', Number(result[6])); // set night brigntness
          day = Number(result[7]);
          if (day) {
            $('#sun').css('visibility', 'visible');
            $('#moon').css('visibility', 'hidden');
          } else {
            $('#sun').css('visibility', 'hidden');
            $('#moon').css('visibility', 'visible');
          }
          return;
        }
        //-----------------------------
        // new colorMode or new speed
        result = evt.data.match(/^colorMode:(\d+)speed:(\d+)$/i);
        if (result) {
          $("#colorMode").prop('value', Number(result[1]));  // set colorMode
          $("#speedValue").prop('value', Number(result[2])); // set speed
          $(".speedValTxt").text(Math.round((100*Number(result[2]))/255)+"%");
          return;
        }
        //-----------------------------
        // enable/disable distance sensor
        result = evt.data.match(/^dSens:(\d+)$/i);
        if (result) {
          boSendToDevice = false;
          if (Number(result[1])) {
            $("#DistanceSensorSwitch").prop('checked', true);
            document.getElementById('calibrationBtn').disabled = false;
          } else {
            $("#DistanceSensorSwitch").prop('checked', false);
            document.getElementById('calibrationBtn').disabled = true;
          }
          return;
        }
        //-----------------------------
        // enable/disable distance sensor
        result = evt.data.match(/^mSens:(\d+)$/i);
        if (result) {
          boSendToDevice = false;
          if (Number(result[1])) {
            $("#MotionSensorSwitch").prop('checked', true);
            document.getElementById('offDelay').disabled = false;
          } else {
            $("#MotionSensorSwitch").prop('checked', false);
            document.getElementById('offDelay').disabled = true;
          }
          return;
        }
        //-----------------------------
        // configure time setup
        result = evt.data.match(/^TimeZoneName:(.*)TimeZone:(.*)NTPserver1:(.*)NTPserver2:(.*)Latitude:(([0-9]*[.])?[0-9]+)Longitude:(([0-9]*[.])?[0-9]+)$/i);
        if (result) {
          boSendToDevice = false;
          if (result[1]) {
            const $select = document.querySelector('#timeZone');
            const $options = Array.from($select.options);
            const optionToSelect = $options.find(item => item.text === result[1]);
            optionToSelect.selected = true;
          }
          if (result[3]) {
            $("#ntpServer1").prop('value', result[3]);
          }
          if (result[4]) {
            $("#ntpServer2").prop('value', result[4]);
          }
          if (result[5]) {
            $("#latitude").prop('value', parseFloat(result[5]));
          }
          if (result[7]) {
            $("#longitude").prop('value', parseFloat(result[7]));
          }
          return;
        }
        //-----------------------------
        // set dun data
        result = evt.data.match(/^sunrise:(.*)sunset:(.*)$/i);
        if (result) {
          boSendToDevice = false;
          $("#sunrise").text(result[1]);
          $("#sunset").text(result[2]);
          return;
        }
      }
      //#########################################
      // Called when a WebSocket error occurs
      function onError(evt) {
        console.log("[WebSocket] Error: " + evt.data);
      }
      //#########################################
      // Sends a message to the server (and prints it to the console)
      function doSend(message) {
        console.log("[WebSocket] Tx: " + message);
        if (typeof websocket != "undefined") { websocket.send(message); }
      }
      //#########################################
      function toggleLedStripe() {
        if ($("#StripeSwitch").is(':checked')) {
          doSend("on");
        } else {
          doSend("off");
        }
      }
      //#########################################
      function toggleDistanceSensor() {
        if ($("#DistanceSensorSwitch").is(':checked')) {
          doSend("dSens:1");
          document.getElementById('calibrationBtn').disabled = false;
        } else {
          doSend("dSens:0");
          document.getElementById('calibrationBtn').disabled = true;
        }
      }
      //#########################################
      function toggleMotionSensor() {
        if ($("#MotionSensorSwitch").is(':checked')) {
          doSend("mSens:1");
          document.getElementById('offDelay').disabled = false;
        } else {
          doSend("mSens:0");
          document.getElementById('offDelay').disabled = true;
        }
      }
      //#########################################
      function toggleTitle() {
        if ($("#StripeSwitch").is(':checked')) {
          $("#StripeSwitch").prop('checked', false); // turn html switch on
          doSend("off");
        } else {
          $("#StripeSwitch").prop('checked', true); // turn html switch on
          doSend("on");
        }
      }
      //#########################################
      function toggleBrightness() {
        bri = (day ? Number(document.getElementById("bDay").value) : Number(document.getElementById("bNight").value)) / 0xff;
        $('#color-block').wheelColorPicker(
          'setColor',
          {
            h: $('#color-block').wheelColorPicker('color').h,
            s: $('#color-block').wheelColorPicker('color').s,
            v: bri
          }
        );
      }
      //#########################################
      // Call the init function as soon as the page loads
      window.addEventListener("load", init, false);
    </script>
  </head>
<!--##########################################-->
  <body>
    <table style="width:100%;height:100%;border-collapse:collapse;">
      <tr><td align="center" style="vertical-align: top;">
        <div class="config1 config2" style="display: inline-block;"">
          <table style="width:100%; height: 30px; border-collapse: collapse;">
            <tbody>
              <tr>
                <td class="device-name"><span onclick="toggleTitle()">WiFiLed-`id`</span></td>
                <td><label class="switch"><input id="StripeSwitch" type="checkbox" onChange="toggleLedStripe()"><span class="slider round"></span></label></td>
              </tr>
            </tbody>
          </table>
        </div>
        <br>
        <div id="colorSelector" style="width:360px;position:relative;">
          <input id="color-block" type="text" value="#ffffff" data-wheelcolorpicker data-wcp-format="css"
            data-wcp-layout="block" data-wcp-sliders="wv" data-wcp-cssClass="config1 config2" data-wcp-autoResize="false" />
        </div>
        <div class="config1 config2" style="display: inline-block;"">
          <table style=" width:100%; height: 30px; border-collapse: collapse;">
            <tbody>
              <tr>
                <td class="custom-select">
                  <select name="select" id="select" autocomplete="off">
                    <option value="time" selected="selected">Time</option>
                    <option value="colorSetup">Color mode</option>
                    <option value="wifiSetup">WiFi setup</option>
                    <option value="timeSetup">Time setup</option>
                    <option value="ledSetup">LED setup</option>
                    <option value="globalSetup">Global Setup</option>
                  </select>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="time" class="config1 config2" style="display: inline-block;">
          <table style="width:100%; height: 30px; border-collapse: collapse;">
            <tbody>
              <tr rowspan="2">
                <td id="currentTime" class="custom-select" colspan="2" style="font-family:ui-monospace;font-size:447%;font-weight: bolder;text-align:center;"></td>
              </tr>
              <tr>
                <td id="currentDate" class="value-name" colspan="2" style="text-align:center;"></td>
              </tr>
              <tr>
                <td class="value-name"> </td>
                <td class="value"> </td>
              </tr>
              <tr>
                <td class="value-name" width="150px">Sunrise <img src="sun.svg" height="32px" style="vertical-align:middle; filter: invert(50%) sepia(50%) saturate(0%) hue-rotate(0deg) brightness(87%) contrast(156%);"/></td>
                <td id="sunrise" class="value" style="text-align:left;"></td>
              </tr>
              <tr>
                <td class="value-name">Sunset <img src="moon.svg" height="32px" style="vertical-align:middle; filter: invert(50%) sepia(50%) saturate(0%) hue-rotate(0deg) brightness(87%) contrast(156%);"/></td>
                <td id="sunset" class="value" style="text-align:left;"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="colorSetup" class="config1 config2" style="display: inline-block;">
          <table style="width:100%; height: 30px; border-collapse: collapse;">
            <tbody>
              <tr>
                <td class="custom-select" colspan="2">
                  <select name="colorMode" id="colorMode">
                    <option value='0'>Monochome</option>
                    <option value='1'>Rainbow</option>
                    <option value='2'>Random</option>
                    <option value='3'>MovingPoint</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td class="value-name" width="150px">Speed <span style="float:right" class="speedValTxt"></span></td><td class="value">
                  <input id="speedValue" type="range" min="0" max="255" step="1.0" value="`speed`"
                  onChange='doSend("speed:"+document.getElementById("speedValue").value); $(".speedValTxt").text(Math.round((100*document.getElementById("speedValue").value)/255)+"%");'>
                </td>
              </tr>
              <tr>
                <td class="value-name">RGB</td><td class="value"><span class="rgbValue"></span></td>
              </tr>
              <tr>
                <td class="value-name">Hue</td><td class="value"><span class="hValue"></span></td>
              </tr>
              <tr>
                <td class="value-name">Saturation</td><td class="value"><span class="sValue"></span></td style="text-align: right;">
              </tr>
              <tr>
                <td class="value-name">Brightness</td><td class="value"><span class="bValue"></span></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="wifiSetup" class="config1 config2" style="display: inline-block;"">
          <table style=" width:100%; height:30px; border-collapse: collapse;">
            <tbody>
              <tr>
                <td class="value-name">SSID</td>
                <td class="value"><input type="text" maxlength="49" placeholder="WiFi SSID" id="ssidValue" value="`ssid`"></td>
              </tr>
              <tr>
                <td class="value-name">Password</td>
                <td class="value"><input type="password" maxlength="49" placeholder="WiFi password" id="pwdValue" value="`pwd`"></td>
              <tr>
                <td class="value-name">&nbsp;</td><td class="value">&nbsp;</td>
              </tr>
              <tr>
                <td class="value-name">&nbsp;</td><td class="value">&nbsp;</td>
              </tr>
              <tr>
                <td class="value-name">&nbsp;</td><td class="value">&nbsp;</td>
              </tr>
              <tr>
                <td class="value-name">&nbsp;</td><td class="value"><button class="btn"onclick='doSend("Ssid:"+document.getElementById("ssidValue").value+"Pwd:"+document.getElementById("pwdValue").value); alert("WiFiLed-`id` will now restart to connect to the configured SSID!");'>Success</button></td>
              </tr>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="timeSetup" class="config1 config2" style="display: inline-block;"">
          <table style=" width:100%; height:30px; border-collapse: collapse;">
            <tbody>
              <tr>
                <td class="value-name" width="135px">Time Zone</td>
                <td class="custom-select">
                  <select name="timeZone" id="timeZone" autocomplete="off"> <!-- see: https://github.com/nayarsystems/posix_tz_db/blob/master/zones.csv -->
                    <option value="GMT0">Africa/Abidjan</option>
                    <option value="GMT0">Africa/Accra</option>
                    <option value="EAT-3">Africa/Addis_Ababa</option>
                    <option value="CET-1">Africa/Algiers</option>
                    <option value="EAT-3">Africa/Asmara</option>
                    <option value="GMT0">Africa/Bamako</option>
                    <option value="WAT-1">Africa/Bangui</option>
                    <option value="GMT0">Africa/Banjul</option>
                    <option value="GMT0">Africa/Bissau</option>
                    <option value="CAT-2">Africa/Blantyre</option>
                    <option value="WAT-1">Africa/Brazzaville</option>
                    <option value="CAT-2">Africa/Bujumbura</option>
                    <option value="EET-2">Africa/Cairo</option>
                    <option value="<+01>-1">Africa/Casablanca</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Africa/Ceuta</option>
                    <option value="GMT0">Africa/Conakry</option>
                    <option value="GMT0">Africa/Dakar</option>
                    <option value="EAT-3">Africa/Dar_es_Salaam</option>
                    <option value="EAT-3">Africa/Djibouti</option>
                    <option value="WAT-1">Africa/Douala</option>
                    <option value="<+01>-1">Africa/El_Aaiun</option>
                    <option value="GMT0">Africa/Freetown</option>
                    <option value="CAT-2">Africa/Gaborone</option>
                    <option value="CAT-2">Africa/Harare</option>
                    <option value="SAST-2">Africa/Johannesburg</option>
                    <option value="CAT-2">Africa/Juba</option>
                    <option value="EAT-3">Africa/Kampala</option>
                    <option value="CAT-2">Africa/Khartoum</option>
                    <option value="CAT-2">Africa/Kigali</option>
                    <option value="WAT-1">Africa/Kinshasa</option>
                    <option value="WAT-1">Africa/Lagos</option>
                    <option value="WAT-1">Africa/Libreville</option>
                    <option value="GMT0">Africa/Lome</option>
                    <option value="WAT-1">Africa/Luanda</option>
                    <option value="CAT-2">Africa/Lubumbashi</option>
                    <option value="CAT-2">Africa/Lusaka</option>
                    <option value="WAT-1">Africa/Malabo</option>
                    <option value="CAT-2">Africa/Maputo</option>
                    <option value="SAST-2">Africa/Maseru</option>
                    <option value="SAST-2">Africa/Mbabane</option>
                    <option value="EAT-3">Africa/Mogadishu</option>
                    <option value="GMT0">Africa/Monrovia</option>
                    <option value="EAT-3">Africa/Nairobi</option>
                    <option value="WAT-1">Africa/Ndjamena</option>
                    <option value="WAT-1">Africa/Niamey</option>
                    <option value="GMT0">Africa/Nouakchott</option>
                    <option value="GMT0">Africa/Ouagadougou</option>
                    <option value="WAT-1">Africa/Porto-Novo</option>
                    <option value="GMT0">Africa/Sao_Tome</option>
                    <option value="EET-2">Africa/Tripoli</option>
                    <option value="CET-1">Africa/Tunis</option>
                    <option value="CAT-2">Africa/Windhoek</option>
                    <option value="HST10HDT,M3.2.0,M11.1.0">America/Adak</option>
                    <option value="AKST9AKDT,M3.2.0,M11.1.0">America/Anchorage</option>
                    <option value="AST4">America/Anguilla</option>
                    <option value="AST4">America/Antigua</option>
                    <option value="<-03>3">America/Araguaina</option>
                    <option value="<-03>3">America/Argentina/Buenos_Aires</option>
                    <option value="<-03>3">America/Argentina/Catamarca</option>
                    <option value="<-03>3">America/Argentina/Cordoba</option>
                    <option value="<-03>3">America/Argentina/Jujuy</option>
                    <option value="<-03>3">America/Argentina/La_Rioja</option>
                    <option value="<-03>3">America/Argentina/Mendoza</option>
                    <option value="<-03>3">America/Argentina/Rio_Gallegos</option>
                    <option value="<-03>3">America/Argentina/Salta</option>
                    <option value="<-03>3">America/Argentina/San_Juan</option>
                    <option value="<-03>3">America/Argentina/San_Luis</option>
                    <option value="<-03>3">America/Argentina/Tucuman</option>
                    <option value="<-03>3">America/Argentina/Ushuaia</option>
                    <option value="AST4">America/Aruba</option>
                    <option value="<-04>4<-03>,M10.1.0/0,M3.4.0/0">America/Asuncion</option>
                    <option value="EST5">America/Atikokan</option>
                    <option value="<-03>3">America/Bahia</option>
                    <option value="CST6">America/Bahia_Banderas</option>
                    <option value="AST4">America/Barbados</option>
                    <option value="<-03>3">America/Belem</option>
                    <option value="CST6">America/Belize</option>
                    <option value="AST4">America/Blanc-Sablon</option>
                    <option value="<-04>4">America/Boa_Vista</option>
                    <option value="<-05>5">America/Bogota</option>
                    <option value="MST7MDT,M3.2.0,M11.1.0">America/Boise</option>
                    <option value="MST7MDT,M3.2.0,M11.1.0">America/Cambridge_Bay</option>
                    <option value="<-04>4">America/Campo_Grande</option>
                    <option value="EST5">America/Cancun</option>
                    <option value="<-04>4">America/Caracas</option>
                    <option value="<-03>3">America/Cayenne</option>
                    <option value="EST5">America/Cayman</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Chicago</option>
                    <option value="CST6">America/Chihuahua</option>
                    <option value="CST6">America/Costa_Rica</option>
                    <option value="MST7">America/Creston</option>
                    <option value="<-04>4">America/Cuiaba</option>
                    <option value="AST4">America/Curacao</option>
                    <option value="GMT0">America/Danmarkshavn</option>
                    <option value="MST7">America/Dawson</option>
                    <option value="MST7">America/Dawson_Creek</option>
                    <option value="MST7MDT,M3.2.0,M11.1.0">America/Denver</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Detroit</option>
                    <option value="AST4">America/Dominica</option>
                    <option value="MST7MDT,M3.2.0,M11.1.0">America/Edmonton</option>
                    <option value="<-05>5">America/Eirunepe</option>
                    <option value="CST6">America/El_Salvador</option>
                    <option value="<-03>3">America/Fortaleza</option>
                    <option value="MST7">America/Fort_Nelson</option>
                    <option value="AST4ADT,M3.2.0,M11.1.0">America/Glace_Bay</option>
                    <option value="<-02>2">America/Godthab</option>
                    <option value="AST4ADT,M3.2.0,M11.1.0">America/Goose_Bay</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Grand_Turk</option>
                    <option value="AST4">America/Grenada</option>
                    <option value="AST4">America/Guadeloupe</option>
                    <option value="CST6">America/Guatemala</option>
                    <option value="<-05>5">America/Guayaquil</option>
                    <option value="<-04>4">America/Guyana</option>
                    <option value="AST4ADT,M3.2.0,M11.1.0">America/Halifax</option>
                    <option value="CST5CDT,M3.2.0/0,M11.1.0/1">America/Havana</option>
                    <option value="MST7">America/Hermosillo</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Indiana/Indianapolis</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Indiana/Knox</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Indiana/Marengo</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Indiana/Petersburg</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Indiana/Tell_City</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Indiana/Vevay</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Indiana/Vincennes</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Indiana/Winamac</option>
                    <option value="MST7MDT,M3.2.0,M11.1.0">America/Inuvik</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Iqaluit</option>
                    <option value="EST5">America/Jamaica</option>
                    <option value="AKST9AKDT,M3.2.0,M11.1.0">America/Juneau</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Kentucky/Louisville</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Kentucky/Monticello</option>
                    <option value="AST4">America/Kralendijk</option>
                    <option value="<-04>4">America/La_Paz</option>
                    <option value="<-05>5">America/Lima</option>
                    <option value="PST8PDT,M3.2.0,M11.1.0">America/Los_Angeles</option>
                    <option value="AST4">America/Lower_Princes</option>
                    <option value="<-03>3">America/Maceio</option>
                    <option value="CST6">America/Managua</option>
                    <option value="<-04>4">America/Manaus</option>
                    <option value="AST4">America/Marigot</option>
                    <option value="AST4">America/Martinique</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Matamoros</option>
                    <option value="MST7">America/Mazatlan</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Menominee</option>
                    <option value="CST6">America/Merida</option>
                    <option value="AKST9AKDT,M3.2.0,M11.1.0">America/Metlakatla</option>
                    <option value="CST6">America/Mexico_City</option>
                    <option value="<-03>3<-02>,M3.2.0,M11.1.0">America/Miquelon</option>
                    <option value="AST4ADT,M3.2.0,M11.1.0">America/Moncton</option>
                    <option value="CST6">America/Monterrey</option>
                    <option value="<-03>3">America/Montevideo</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Montreal</option>
                    <option value="AST4">America/Montserrat</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Nassau</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/New_York</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Nipigon</option>
                    <option value="AKST9AKDT,M3.2.0,M11.1.0">America/Nome</option>
                    <option value="<-02>2">America/Noronha</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/North_Dakota/Beulah</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/North_Dakota/Center</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/North_Dakota/New_Salem</option>
                    <option value="<-02>2">America/Nuuk</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Ojinaga</option>
                    <option value="EST5">America/Panama</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Pangnirtung</option>
                    <option value="<-03>3">America/Paramaribo</option>
                    <option value="MST7">America/Phoenix</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Port-au-Prince</option>
                    <option value="AST4">America/Port_of_Spain</option>
                    <option value="<-04>4">America/Porto_Velho</option>
                    <option value="AST4">America/Puerto_Rico</option>
                    <option value="<-03>3">America/Punta_Arenas</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Rainy_River</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Rankin_Inlet</option>
                    <option value="<-03>3">America/Recife</option>
                    <option value="CST6">America/Regina</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Resolute</option>
                    <option value="<-05>5">America/Rio_Branco</option>
                    <option value="<-03>3">America/Santarem</option>
                    <option value="<-04>4<-03>,M9.1.6/24,M4.1.6/24">America/Santiago</option>
                    <option value="AST4">America/Santo_Domingo</option>
                    <option value="<-03>3">America/Sao_Paulo</option>
                    <option value="<-01>1<+00>,M3.5.0/0,M10.5.0/1">America/Scoresbysund</option>
                    <option value="AKST9AKDT,M3.2.0,M11.1.0">America/Sitka</option>
                    <option value="AST4">America/St_Barthelemy</option>
                    <option value="NST3:30NDT,M3.2.0,M11.1.0">America/St_Johns</option>
                    <option value="AST4">America/St_Kitts</option>
                    <option value="AST4">America/St_Lucia</option>
                    <option value="AST4">America/St_Thomas</option>
                    <option value="AST4">America/St_Vincent</option>
                    <option value="CST6">America/Swift_Current</option>
                    <option value="CST6">America/Tegucigalpa</option>
                    <option value="AST4ADT,M3.2.0,M11.1.0">America/Thule</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Thunder_Bay</option>
                    <option value="PST8PDT,M3.2.0,M11.1.0">America/Tijuana</option>
                    <option value="EST5EDT,M3.2.0,M11.1.0">America/Toronto</option>
                    <option value="AST4">America/Tortola</option>
                    <option value="PST8PDT,M3.2.0,M11.1.0">America/Vancouver</option>
                    <option value="MST7">America/Whitehorse</option>
                    <option value="CST6CDT,M3.2.0,M11.1.0">America/Winnipeg</option>
                    <option value="AKST9AKDT,M3.2.0,M11.1.0">America/Yakutat</option>
                    <option value="MST7MDT,M3.2.0,M11.1.0">America/Yellowknife</option>
                    <option value="<+11>-11">Antarctica/Casey</option>
                    <option value="<+07>-7">Antarctica/Davis</option>
                    <option value="<+10>-10">Antarctica/DumontDUrville</option>
                    <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Antarctica/Macquarie</option>
                    <option value="<+05>-5">Antarctica/Mawson</option>
                    <option value="NZST-12NZDT,M9.5.0,M4.1.0/3">Antarctica/McMurdo</option>
                    <option value="<-03>3">Antarctica/Palmer</option>
                    <option value="<-03>3">Antarctica/Rothera</option>
                    <option value="<+03>-3">Antarctica/Syowa</option>
                    <option value="<+00>0<+02>-2,M3.5.0/1,M10.5.0/3">Antarctica/Troll</option>
                    <option value="<+06>-6">Antarctica/Vostok</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Arctic/Longyearbyen</option>
                    <option value="<+03>-3">Asia/Aden</option>
                    <option value="<+06>-6">Asia/Almaty</option>
                    <option value="<+03>-3">Asia/Amman</option>
                    <option value="<+12>-12">Asia/Anadyr</option>
                    <option value="<+05>-5">Asia/Aqtau</option>
                    <option value="<+05>-5">Asia/Aqtobe</option>
                    <option value="<+05>-5">Asia/Ashgabat</option>
                    <option value="<+05>-5">Asia/Atyrau</option>
                    <option value="<+03>-3">Asia/Baghdad</option>
                    <option value="<+03>-3">Asia/Bahrain</option>
                    <option value="<+04>-4">Asia/Baku</option>
                    <option value="<+07>-7">Asia/Bangkok</option>
                    <option value="<+07>-7">Asia/Barnaul</option>
                    <option value="EET-2EEST,M3.5.0/0,M10.5.0/0">Asia/Beirut</option>
                    <option value="<+06>-6">Asia/Bishkek</option>
                    <option value="<+08>-8">Asia/Brunei</option>
                    <option value="<+09>-9">Asia/Chita</option>
                    <option value="<+08>-8">Asia/Choibalsan</option>
                    <option value="<+0530>-5:30">Asia/Colombo</option>
                    <option value="<+03>-3">Asia/Damascus</option>
                    <option value="<+06>-6">Asia/Dhaka</option>
                    <option value="<+09>-9">Asia/Dili</option>
                    <option value="<+04>-4">Asia/Dubai</option>
                    <option value="<+05>-5">Asia/Dushanbe</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Asia/Famagusta</option>
                    <option value="EET-2EEST,M3.4.4/50,M10.4.4/50">Asia/Gaza</option>
                    <option value="EET-2EEST,M3.4.4/50,M10.4.4/50">Asia/Hebron</option>
                    <option value="<+07>-7">Asia/Ho_Chi_Minh</option>
                    <option value="HKT-8">Asia/Hong_Kong</option>
                    <option value="<+07>-7">Asia/Hovd</option>
                    <option value="<+08>-8">Asia/Irkutsk</option>
                    <option value="WIB-7">Asia/Jakarta</option>
                    <option value="WIT-9">Asia/Jayapura</option>
                    <option value="IST-2IDT,M3.4.4/26,M10.5.0">Asia/Jerusalem</option>
                    <option value="<+0430>-4:30">Asia/Kabul</option>
                    <option value="<+12>-12">Asia/Kamchatka</option>
                    <option value="PKT-5">Asia/Karachi</option>
                    <option value="<+0545>-5:45">Asia/Kathmandu</option>
                    <option value="<+09>-9">Asia/Khandyga</option>
                    <option value="IST-5:30">Asia/Kolkata</option>
                    <option value="<+07>-7">Asia/Krasnoyarsk</option>
                    <option value="<+08>-8">Asia/Kuala_Lumpur</option>
                    <option value="<+08>-8">Asia/Kuching</option>
                    <option value="<+03>-3">Asia/Kuwait</option>
                    <option value="CST-8">Asia/Macau</option>
                    <option value="<+11>-11">Asia/Magadan</option>
                    <option value="WITA-8">Asia/Makassar</option>
                    <option value="PST-8">Asia/Manila</option>
                    <option value="<+04>-4">Asia/Muscat</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Asia/Nicosia</option>
                    <option value="<+07>-7">Asia/Novokuznetsk</option>
                    <option value="<+07>-7">Asia/Novosibirsk</option>
                    <option value="<+06>-6">Asia/Omsk</option>
                    <option value="<+05>-5">Asia/Oral</option>
                    <option value="<+07>-7">Asia/Phnom_Penh</option>
                    <option value="WIB-7">Asia/Pontianak</option>
                    <option value="KST-9">Asia/Pyongyang</option>
                    <option value="<+03>-3">Asia/Qatar</option>
                    <option value="<+05>-5">Asia/Qyzylorda</option>
                    <option value="<+03>-3">Asia/Riyadh</option>
                    <option value="<+11>-11">Asia/Sakhalin</option>
                    <option value="<+05>-5">Asia/Samarkand</option>
                    <option value="KST-9">Asia/Seoul</option>
                    <option value="CST-8">Asia/Shanghai</option>
                    <option value="<+08>-8">Asia/Singapore</option>
                    <option value="<+11>-11">Asia/Srednekolymsk</option>
                    <option value="CST-8">Asia/Taipei</option>
                    <option value="<+05>-5">Asia/Tashkent</option>
                    <option value="<+04>-4">Asia/Tbilisi</option>
                    <option value="<+0330>-3:30">Asia/Tehran</option>
                    <option value="<+06>-6">Asia/Thimphu</option>
                    <option value="JST-9">Asia/Tokyo</option>
                    <option value="<+07>-7">Asia/Tomsk</option>
                    <option value="<+08>-8">Asia/Ulaanbaatar</option>
                    <option value="<+06>-6">Asia/Urumqi</option>
                    <option value="<+10>-10">Asia/Ust-Nera</option>
                    <option value="<+07>-7">Asia/Vientiane</option>
                    <option value="<+10>-10">Asia/Vladivostok</option>
                    <option value="<+09>-9">Asia/Yakutsk</option>
                    <option value="<+0630>-6:30">Asia/Yangon</option>
                    <option value="<+05>-5">Asia/Yekaterinburg</option>
                    <option value="<+04>-4">Asia/Yerevan</option>
                    <option value="<-01>1<+00>,M3.5.0/0,M10.5.0/1">Atlantic/Azores</option>
                    <option value="AST4ADT,M3.2.0,M11.1.0">Atlantic/Bermuda</option>
                    <option value="WET0WEST,M3.5.0/1,M10.5.0">Atlantic/Canary</option>
                    <option value="<-01>1">Atlantic/Cape_Verde</option>
                    <option value="WET0WEST,M3.5.0/1,M10.5.0">Atlantic/Faroe</option>
                    <option value="WET0WEST,M3.5.0/1,M10.5.0">Atlantic/Madeira</option>
                    <option value="GMT0">Atlantic/Reykjavik</option>
                    <option value="<-02>2">Atlantic/South_Georgia</option>
                    <option value="<-03>3">Atlantic/Stanley</option>
                    <option value="GMT0">Atlantic/St_Helena</option>
                    <option value="ACST-9:30ACDT,M10.1.0,M4.1.0/3">Australia/Adelaide</option>
                    <option value="AEST-10">Australia/Brisbane</option>
                    <option value="ACST-9:30ACDT,M10.1.0,M4.1.0/3">Australia/Broken_Hill</option>
                    <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Australia/Currie</option>
                    <option value="ACST-9:30">Australia/Darwin</option>
                    <option value="<+0845>-8:45">Australia/Eucla</option>
                    <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Australia/Hobart</option>
                    <option value="AEST-10">Australia/Lindeman</option>
                    <option value="<+1030>-10:30<+11>-11,M10.1.0,M4.1.0">Australia/Lord_Howe</option>
                    <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Australia/Melbourne</option>
                    <option value="AWST-8">Australia/Perth</option>
                    <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Australia/Sydney</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Amsterdam</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Andorra</option>
                    <option value="<+04>-4">Europe/Astrakhan</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Athens</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Belgrade</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Berlin</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Bratislava</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Brussels</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Bucharest</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Budapest</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Busingen</option>
                    <option value="EET-2EEST,M3.5.0,M10.5.0/3">Europe/Chisinau</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Copenhagen</option>
                    <option value="IST-1GMT0,M10.5.0,M3.5.0/1">Europe/Dublin</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Gibraltar</option>
                    <option value="GMT0BST,M3.5.0/1,M10.5.0">Europe/Guernsey</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Helsinki</option>
                    <option value="GMT0BST,M3.5.0/1,M10.5.0">Europe/Isle_of_Man</option>
                    <option value="<+03>-3">Europe/Istanbul</option>
                    <option value="GMT0BST,M3.5.0/1,M10.5.0">Europe/Jersey</option>
                    <option value="EET-2">Europe/Kaliningrad</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Kiev</option>
                    <option value="<+03>-3">Europe/Kirov</option>
                    <option value="WET0WEST,M3.5.0/1,M10.5.0">Europe/Lisbon</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Ljubljana</option>
                    <option value="GMT0BST,M3.5.0/1,M10.5.0">Europe/London</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Luxembourg</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Madrid</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Malta</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Mariehamn</option>
                    <option value="<+03>-3">Europe/Minsk</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Monaco</option>
                    <option value="MSK-3">Europe/Moscow</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Oslo</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Paris</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Podgorica</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Prague</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Riga</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Rome</option>
                    <option value="<+04>-4">Europe/Samara</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/San_Marino</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Sarajevo</option>
                    <option value="<+04>-4">Europe/Saratov</option>
                    <option value="MSK-3">Europe/Simferopol</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Skopje</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Sofia</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Stockholm</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Tallinn</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Tirane</option>
                    <option value="<+04>-4">Europe/Ulyanovsk</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Uzhgorod</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Vaduz</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Vatican</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Vienna</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Vilnius</option>
                    <option value="<+03>-3">Europe/Volgograd</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Warsaw</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Zagreb</option>
                    <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe/Zaporozhye</option>
                    <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe/Zurich</option>
                    <option value="EAT-3">Indian/Antananarivo</option>
                    <option value="<+06>-6">Indian/Chagos</option>
                    <option value="<+07>-7">Indian/Christmas</option>
                    <option value="<+0630>-6:30">Indian/Cocos</option>
                    <option value="EAT-3">Indian/Comoro</option>
                    <option value="<+05>-5">Indian/Kerguelen</option>
                    <option value="<+04>-4">Indian/Mahe</option>
                    <option value="<+05>-5">Indian/Maldives</option>
                    <option value="<+04>-4">Indian/Mauritius</option>
                    <option value="EAT-3">Indian/Mayotte</option>
                    <option value="<+04>-4">Indian/Reunion</option>
                    <option value="<+13>-13">Pacific/Apia</option>
                    <option value="NZST-12NZDT,M9.5.0,M4.1.0/3">Pacific/Auckland</option>
                    <option value="<+11>-11">Pacific/Bougainville</option>
                    <option value="<+1245>-12:45<+1345>,M9.5.0/2:45,M4.1.0/3:45">Pacific/Chatham</option>
                    <option value="<+10>-10">Pacific/Chuuk</option>
                    <option value="<-06>6<-05>,M9.1.6/22,M4.1.6/22">Pacific/Easter</option>
                    <option value="<+11>-11">Pacific/Efate</option>
                    <option value="<+13>-13">Pacific/Enderbury</option>
                    <option value="<+13>-13">Pacific/Fakaofo</option>
                    <option value="<+12>-12">Pacific/Fiji</option>
                    <option value="<+12>-12">Pacific/Funafuti</option>
                    <option value="<-06>6">Pacific/Galapagos</option>
                    <option value="<-09>9">Pacific/Gambier</option>
                    <option value="<+11>-11">Pacific/Guadalcanal</option>
                    <option value="ChST-10">Pacific/Guam</option>
                    <option value="HST10">Pacific/Honolulu</option>
                    <option value="<+14>-14">Pacific/Kiritimati</option>
                    <option value="<+11>-11">Pacific/Kosrae</option>
                    <option value="<+12>-12">Pacific/Kwajalein</option>
                    <option value="<+12>-12">Pacific/Majuro</option>
                    <option value="<-0930>9:30">Pacific/Marquesas</option>
                    <option value="SST11">Pacific/Midway</option>
                    <option value="<+12>-12">Pacific/Nauru</option>
                    <option value="<-11>11">Pacific/Niue</option>
                    <option value="<+11>-11<+12>,M10.1.0,M4.1.0/3">Pacific/Norfolk</option>
                    <option value="<+11>-11">Pacific/Noumea</option>
                    <option value="SST11">Pacific/Pago_Pago</option>
                    <option value="<+09>-9">Pacific/Palau</option>
                    <option value="<-08>8">Pacific/Pitcairn</option>
                    <option value="<+11>-11">Pacific/Pohnpei</option>
                    <option value="<+10>-10">Pacific/Port_Moresby</option>
                    <option value="<-10>10">Pacific/Rarotonga</option>
                    <option value="ChST-10">Pacific/Saipan</option>
                    <option value="<-10>10">Pacific/Tahiti</option>
                    <option value="<+12>-12">Pacific/Tarawa</option>
                    <option value="<+13>-13">Pacific/Tongatapu</option>
                    <option value="<+12>-12">Pacific/Wake</option>
                    <option value="<+12>-12">Pacific/Wallis</option>
                    <option value="GMT0">Etc/GMT</option>
                    <option value="GMT0">Etc/GMT-0</option>
                    <option value="<+01>-1">Etc/GMT-1</option>
                    <option value="<+02>-2">Etc/GMT-2</option>
                    <option value="<+03>-3">Etc/GMT-3</option>
                    <option value="<+04>-4">Etc/GMT-4</option>
                    <option value="<+05>-5">Etc/GMT-5</option>
                    <option value="<+06>-6">Etc/GMT-6</option>
                    <option value="<+07>-7">Etc/GMT-7</option>
                    <option value="<+08>-8">Etc/GMT-8</option>
                    <option value="<+09>-9">Etc/GMT-9</option>
                    <option value="<+10>-10">Etc/GMT-10</option>
                    <option value="<+11>-11">Etc/GMT-11</option>
                    <option value="<+12>-12">Etc/GMT-12</option>
                    <option value="<+13>-13">Etc/GMT-13</option>
                    <option value="<+14>-14">Etc/GMT-14</option>
                    <option value="GMT0">Etc/GMT0</option>
                    <option value="GMT0">Etc/GMT+0</option>
                    <option value="<-01>1">Etc/GMT+1</option>
                    <option value="<-02>2">Etc/GMT+2</option>
                    <option value="<-03>3">Etc/GMT+3</option>
                    <option value="<-04>4">Etc/GMT+4</option>
                    <option value="<-05>5">Etc/GMT+5</option>
                    <option value="<-06>6">Etc/GMT+6</option>
                    <option value="<-07>7">Etc/GMT+7</option>
                    <option value="<-08>8">Etc/GMT+8</option>
                    <option value="<-09>9">Etc/GMT+9</option>
                    <option value="<-10>10">Etc/GMT+10</option>
                    <option value="<-11>11">Etc/GMT+11</option>
                    <option value="<-12>12">Etc/GMT+12</option>
                    <option value="UTC0">Etc/UCT</option>
                    <option value="UTC0">Etc/UTC</option>
                    <option value="GMT0">Etc/Greenwich</option>
                    <option value="UTC0">Etc/Universal</option>
                    <option value="UTC0">Etc/Zulu</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td class="value-name">Server1</td>
                <td class="value"><input type="text" placeholder="e.g. ptbtime1.ptb.de" id="ntpServer1" name="ntpServer1" value=""></td>
              <tr>
                <td class="value-name">Server2</td>
                <td class="value"><input type="text" placeholder="e.g. ptbtime2.ptb.de" id="ntpServer2" name="ntpServer2" value=""></td>
              </tr>
              <tr>
                <td class="value-name">Latitude</td>
                <td class="value"><input type="number" step="any" placeholder="12.345" id="latitude" name="latitude" value=""></td>
              </tr>
              <tr>
                <td class="value-name">Longitude</td>
                <td class="value"><input type="number" step="any" placeholder="67.89" id="longitude" name="longitude" value=""></td>
              </tr>
              <tr>
                <td class="value-name">&nbsp;</td><td class="value">
                  <button class="btn" onclick='doSend("TimeZoneName:"+$("#timeZone").children("option:selected").text()+"TimeZone:"+document.getElementById("timeZone").value+"NTPserver1:"+document.getElementById("ntpServer1").value+"NTPserver2:"+document.getElementById("ntpServer2").value+"Latitude:"+document.getElementById("latitude").value+"Longitude:"+document.getElementById("longitude").value);'>Success
                  </button></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="ledSetup" class="config1 config2" style="display: inline-block;"">
          <table style=" width:100%; height:30px; border-collapse: collapse;">
            <tbody>
              <tr>
                <td class="value-name" width="125px">LED's</td>
                <td class="value"><input type="number" min="1" placeholder="number of LED's 1..300" id="ledCount" name="ledCount" value="`ledCount`"></td>
              </tr>
              <tr>
                <td class="value-name">bright. min</td>
                <td class="value"><input type="number" min="0" max="255" placeholder="0..255" id="bMin" name="bMin" value="`bMin`"></td>
              <tr>
                <td class="value-name">bright. max</td>
                <td class="value"><input type="number" min="0" max="255" placeholder="0..255" id="bMax" name="bMax" value="`bMax`"></td>
              </tr>
              <tr>
                <td class="value-name">bright. <img src="sun.svg" height="32px" style="vertical-align:middle; filter: invert(50%) sepia(50%) saturate(0%) hue-rotate(0deg) brightness(87%) contrast(156%);"/></td>
                <td class="value"><input type="number" min="0" max="255" placeholder="0..255" id="bDay" name="bDay" value=""></td>
              </tr>
              <tr>
                <td class="value-name">bright. <img src="moon.svg" height="32px" style="vertical-align:middle; filter: invert(50%) sepia(50%) saturate(0%) hue-rotate(0deg) brightness(87%) contrast(156%);"/></td>
                <td class="value"><input type="number" min="0" max="255" placeholder="0..255" id="bNight" name="bNight" value=""></td>
              </tr>
              <tr>
                <td class="value-name">&nbsp;</td><td class="value"><button class="btn" onclick='toggleBrightness();doSend("ledCount:"+document.getElementById("ledCount").value+"bMin:"+document.getElementById("bMin").value+"bMax:"+document.getElementById("bMax").value+"offDelay:"+(Number(document.getElementById("offDelay").value)-4)+"bDay:"+Number(document.getElementById("bDay").value)+"bNight:"+Number(document.getElementById("bNight").value));'>Success</button></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="globalSetup" class="config1 config2" style="display: inline-block;"">
          <table style=" width:100%; height:30px; border-collapse: collapse;">
            <tbody>
              <tr>
                <td class="value-name" width="250px">motion sensor</td>
                <td class="value"><label class="switch"><input id="MotionSensorSwitch" type="checkbox" onChange="toggleMotionSensor()"><span class="slider round"></span></label></td>
              </tr>
              <tr>
                <td class="value-name">motion off delay [s]</td>
                <td class="value"><input type="number" min="4" max="255" placeholder="4..255" id="offDelay" name="offDelay" value="`offDelay`" onchange='if (Number(this.value)<4){this.value=4;};doSend("ledCount:"+document.getElementById("ledCount").value+"bMin:"+document.getElementById("bMin").value+"bMax:"+document.getElementById("bMax").value+"offDelay:"+(Number(document.getElementById("offDelay").value)-4)+"bDay:"+Number(document.getElementById("bDay").value)+"bNight:"+Number(document.getElementById("bNight").value));'></td>
              </tr>
              <tr>
                <td class="value-name" width="200px">distance sensor</td>
                <td class="value"><label class="switch"><input id="DistanceSensorSwitch" type="checkbox" onChange="toggleDistanceSensor()"><span class="slider round"></span></label></td>
              </tr>
              <tr>
                <td class="value-name" width="200px">distance sensor</td>
                <td class="value"><button id="calibrationBtn" class="btn" onmousedown='doSend("calib:1");' onmouseup='doSend("calib:0");'>calibrate</button></td>
              </tr>
              <tr>
                <td class="value-name">&nbsp;</td><td class="value">&nbsp;</td>
              </tr>
              <tr>
                <td class="value-name">factory reset</td>
                <td class="value"><button class="btn" onclick='doSend("factoryReset"); alert("WiFiLed-`id` will now restart in WiFi AccessPoint mode!\n Connect your Wifi to this Accesspoint and configire SSID and Password!");'>start</button></td>
              <tr>
            </tbody>
          </table>
        </div>
        <div style="width: 360px;text-align: right;font-size: x-small; color:#888888">
          WiFiLed-`id` V`ver` by Daniel Warnicki
        </div>
      </td></tr>
    </table>
    <div class="dayNight" id="sun"><img src="sun.svg" height="32px" style="filter: invert(50%) sepia(50%) saturate(0%) hue-rotate(0deg) brightness(87%) contrast(156%);" /></div>
    <div class="dayNight" id="moon"><img src="moon.svg" height="32px" style="filter: invert(50%) sepia(50%) saturate(0%) hue-rotate(0deg) brightness(87%) contrast(156%);" /></div>
    <script type="text/javascript">
      //#########################################
      $(function () {
        $('#color-block').on('colorchange', function (e) {
          var color = $(this).wheelColorPicker('value');
          var h = $(this).wheelColorPicker('color').h;
          var s = $(this).wheelColorPicker('color').s;
          var v = $(this).wheelColorPicker('color').v;
          $('.rgbValue').text(color);
          $('.hValue').text(Math.round(h * 0xffff));
          $('.sValue').text(Math.round(s * 100) + '%');
          $('.bValue').text(Math.round(v * 100) + '%');
          if (boSendToDevice) {
            // change the Stripe color
            doSend("set=h:" + (h * 0xffff).toFixed(0) + "s:"+ (s * 0xff).toFixed(0) + "b:" + (v * 0xff).toFixed(0));
            if (day) {
              $("#bDay").prop('value', (v * 0xff).toFixed(0));   // set day brightness
            } else {
              $("#bNight").prop('value', (v * 0xff).toFixed(0)); // set night brigntness
            }
          } else {
            // do not update the device values
            boSendToDevice = true;
          }
        });
      });

      function updateTime() {
        const today = new Date();
        let h = today.getHours();
        let m = today.getMinutes();
        let s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        document.getElementById('currentTime').innerHTML = h + ":" + m + ":" + s;

        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
        var yyyy = today.getFullYear();
        const weekday = new Array('Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday');
        document.getElementById('currentDate').innerHTML = weekday[today.getDay()]+' '+dd+'/'+mm+'/'+yyyy;

        setTimeout(updateTime, 1000);
      }

      function checkTime(i) {
        if (i < 10) { i = "0" + i };  // add zero in front of numbers < 10
        return i;
      }

    </script>
  </body>
</html>
